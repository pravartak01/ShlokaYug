import React, { useState } from 'react';\nimport { Box, useTheme, useMediaQuery } from '@mui/material';\nimport Sidebar from './Sidebar';\nimport TopBar from './TopBar';\n\nconst Layout = ({ children }) => {\n  const theme = useTheme();\n  const isDesktop = useMediaQuery(theme.breakpoints.up('lg'));\n  const [sidebarOpen, setSidebarOpen] = useState(isDesktop);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n\n  const handleSidebarToggle = () => {\n    if (isDesktop) {\n      setSidebarCollapsed(!sidebarCollapsed);\n    } else {\n      setSidebarOpen(!sidebarOpen);\n    }\n  };\n\n  const sidebarWidth = sidebarCollapsed ? 72 : 280;\n\n  return (\n    <Box sx={{ display: 'flex', minHeight: '100vh', background: 'linear-gradient(135deg, #0a0e1a 0%, #1a1f2e 100%)' }}>\n      {/* Sidebar */}\n      <Sidebar\n        open={sidebarOpen}\n        collapsed={sidebarCollapsed}\n        onClose={() => setSidebarOpen(false)}\n        isDesktop={isDesktop}\n      />\n      \n      {/* Main Content */}\n      <Box\n        sx={{\n          flexGrow: 1,\n          marginLeft: isDesktop ? `${sidebarWidth}px` : 0,\n          transition: theme.transitions.create(['margin-left'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n          }),\n        }}\n      >\n        {/* Top Bar */}\n        <TopBar onMenuClick={handleSidebarToggle} />\n        \n        {/* Page Content */}\n        <Box\n          component=\"main\"\n          sx={{\n            p: 3,\n            mt: 8, // Account for top bar height\n            minHeight: 'calc(100vh - 64px)',\n            background: 'transparent',\n          }}\n        >\n          {children}\n        </Box>\n      </Box>\n      \n      {/* Backdrop for mobile */}\n      {!isDesktop && sidebarOpen && (\n        <Box\n          sx={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            zIndex: theme.zIndex.drawer - 1,\n          }}\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default Layout;